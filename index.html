<!DOCTYPE html>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <link href="css/main.css" rel="stylesheet">

<body>

  <!-- <p>
    Site currently under construction. Please excuse the mess.
  </p> -->

  <div id="intro-block">
    <div class="block animatable bounceInLeft periwinkle-back"></div>
    <div class="block animatable bounceInRight periwinkle-back"></div>
    <div class="block animatable bounceInLeft periwinkle-back"></div>
  </div>

</body>


<script>

jQuery(function($) {
  function windowChange(){
    var windowWidth = window.innerWidth;
    var windowHeight = window.innerHeight;

    $(".block").css('height', windowHeight/3);

    $(".fadeBlock").css('height', windowHeight);
    $(".fadeBlock").css('width', windowWidth);

    $("#work").css('height', windowHeight);
  }
  windowChange();

  $( window ).resize(function() {
    windowChange();
  });

  // Function which adds the 'animated' class to any '.animatable' in view
  var doAnimations = function() {

    // Calc current offset and get all animatables
    var offset = $(window).scrollTop() + $(window).height(),
        $animatables = $('.animatable');

    // Unbind scroll handler if we have no animatables
    if ($animatables.length == 0) {
      $(window).off('scroll', doAnimations);
    }

    // Check all animatables and animate them if necessary
		$animatables.each(function(i) {
       var $animatable = $(this);
			if (($animatable.offset().top + $animatable.height() - 20) < offset) {
        $animatable.removeClass('animatable').addClass('animated');
			}
    });

	};

  // Hook doAnimations on scroll, and trigger a scroll
	$(window).on('scroll', doAnimations);
  $(window).trigger('scroll');

});

</script>

</html>
